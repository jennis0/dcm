{{#*inline ".packs"}}

<fieldset class="card packs-section tab {{cssClass}}">
    <legend>{{ localize label }}</legend>
    <menu class="packs-list unlist {{ type }}">
        {{#if (gt entries.length 1)}}
        <li class="all">
            <label class="checkbox">
                <dcm-checkbox name="all-{{ name }}" {{ checked checked }} data-type="pack"
                                category="{{ itemType }}"
                                data-action="selectAll"
                                {{#if indeterminate}}indeterminate{{/if}}></dcm-checkbox>
                <span class="title">{{ localize "All" }}</span>
            </label>
        </li>
        <hr/>
        {{/if}}
        {{#each entries}}
        <li class="compendium-list-row">
            <label class="checkbox compendium-checkbox">
                <dcm-checkbox 
                    data-action="selectPack"
                    name="{{ uuid }}" 
                    {{ checked checked }} 
                    {{#if fixed}}disabled{{/if}}
                    data-type="pack"
                    category="{{ ../itemType }}"
                ></dcm-checkbox>
                <div class="compendium-row-label">
                    <span class="title">{{ label }}</span>
                    <span class="source">({{ name }})</span>
                </div>
            </label>
        </li>
        {{/each}}
    </menu>
</fieldset>

{{/inline}}

<section class="pack-selector">


    <div class="source-title-row">
        <p class="title roboto-condensed-upper">{{label}}</p>

        <div class="enabled-toggle">
            <label class="dcm-slide-toggle">
            <dcm-slide-toggle data-action="toggleEnabled" name="{{type}}" {{#if enabled}}checked{{/if}}>    
            <!-- <div class="slide-toggle-track">
                <div class="slide-toggle-thumb"></div>
            </div> -->
            </dcm-slide-toggle>
            <span>Apply Management</span>
            </label>
        </div>
    </div>  

    {{#if isSpellList}}
        <div class="filter note roboto-condensed-upper">
            <p>Work In Progress</p>
            <p>Some Compendiums cannot be unselected as Spell Lists loaded by modules
            cannot currently be unloaded.</p>
        </div>
    {{/if}}


    {{#each tab}}
        {{> ".packs" this}}
    {{/each}}
</section>